#! Generated by VisualDCT v2.5
#! DBDSTART
#! DBDEND


record(ai, "$(P)$(C)GasSetPoint") {
  field(PREC, "2")
  field(EGU, "K")
  field(HOPR, "500")
  field(LOPR, "80")
}

record(calc, "$(P)$(C)GasSetPointC") {
  field(CALC, "A-273.15")
  field(INPA, "$(P)$(C)GasSetPoint.VAL CP NMS")
  field(EGU, "C")
  field(PREC, "2")
  field(HOPR, "226.85")
  field(LOPR, "-193.15")
}

record(ai, "$(P)$(C)GasTemp") {
  field(PREC, "2")
  field(EGU, "K")
}

record(calc, "$(P)$(C)GasTempC") {
  field(CALC, "A-273.15")
  field(INPA, "$(P)$(C)GasTemp.VAL CP NMS")
  field(EGU, "C")
  field(PREC, "2")
  field(HOPR, "226.85")
  field(LOPR, "-193.15")
}

record(ai, "$(P)$(C)GasError") {
  field(PREC, "2")
}

record(mbbi, "$(P)$(C)PhaseID") {
  field(ZRST, "RAMP")
  field(ONST, "COOL")
  field(TWST, "PLAT")
  field(THST, "HOLD")
  field(FRST, "END")
  field(FVST, "PURGE")
  field(SXST, "DELETE_PHASE")
  field(SVST, "LOAD_PROGRAM")
  field(EIST, "SAVE_PROGRAM")
  field(NIST, "SOAK")
  field(TEST, "WAIT")
}

record(mbbi, "$(P)$(C)RunMode") {
  field(ZRST, "StartUp")
  field(ONST, "StartUpFail")
  field(TWST, "StartUpOK")
  field(THST, "Run")
  field(FRST, "SetUp")
  field(FVST, "ShutdownOK")
  field(SXST, "ShutdownFail")
}

record(scalcout, "$(P)$(C)AlarmCode1") {
  field(CALC, "@@A")
  field(OUT, "$(P)$(C)AlarmCode.AA PP NMS")
  field(AA, "No Alarm")
  field(BB, "Stop button pressed")
  field(CC, "Stop command received")
  field(DD, "End phase complete")
  field(EE, "Purge phase complete")
  field(FF, "Temp error > 5K")
  field(GG, "Back pressure > 0.5 bar")
  field(HH, "Evaporator reduction at max")
}

record(scalcout, "$(P)$(C)AlarmCode") {
  #field(CALC, "@@(A-7)")
  field(CALC, "@@(max(A-7,0))")
  field(INPA, "$(P)$(C)AlarmCode1.A  NPP NMS")
  field(BB, "Self-check fail")
  field(CC, "Gas flow < 2 l /min")
  field(DD, "Temp error > 25K")
  field(EE, "Unphysical temp. reported")
  field(FF, "Invalid ADC  reading")
  field(GG, "Degradation of power supply")
  field(HH, "Heat  sink overheating")
  field(II, "Power supply overheating")
  field(JJ, "Power failure")
}

record(longin, "$(P)$(C)RampRate") {
  field(EGU, "K/hour")
  field(HOPR, "360")
  field(LOPR, "1")
}

record(ai, "$(P)$(C)TargetTemp") {
  field(PREC, "2")
  field(EGU, "K")
}

record(ai, "$(P)$(C)EvapTemp") {
  field(PREC, "2")
  field(EGU, "K")
}

record(calc, "$(P)$(C)EvapTempC") {
  field(CALC, "A-273.15")
  field(INPA, "$(P)$(C)EvapTemp.VAL CP NMS")
  field(EGU, "C")
  field(PREC, "2")
}

record(ai, "$(P)$(C)SuctTemp") {
  field(PREC, "2")
  field(EGU, "K")
}

record(calc, "$(P)$(C)SuctTempC") {
  field(CALC, "A-273.15")
  field(INPA, "$(P)$(C)SuctTemp.VAL CP NMS")
  field(EGU, "C")
  field(PREC, "2")
}

record(ai, "$(P)$(C)GasFlow") {
  field(PREC, "1")
  field(EGU, "l/min")
  field(HOPR, "10")
  field(LOPR, "0")
}

record(longin, "$(P)$(C)GasHeat") {
  field(EGU, "%")
  field(HOPR, "100")
  field(LOPR, "0")
}

record(longin, "$(P)$(C)EvapHeat") {
  field(EGU, "%")
  field(HOPR, "100")
  field(LOPR, "0")
}

record(longin, "$(P)$(C)SuctHeat") {
  field(EGU, "%")
  field(HOPR, "100")
  field(LOPR, "0")
}

record(longin, "$(P)$(C)EvapAdj") {
}

record(ai, "$(P)$(C)RunTime") {
  field(PREC, "2")
  field(EGU, "Hour")
}

record(ai, "$(P)$(C)LinePressure") {
  field(PREC, "2")
  field(EGU, "bar")
}

record(bo, "$(P)$(C)start") {
}

record(bo, "$(P)$(C)End") {
}

record(longout, "$(P)$(C)EndRate") {
  field(DTYP, "Soft Channel")
  field(VAL, "359")
}

record(transform, "$(P)$(C)EndRateChar") {
  field(INPA, "$(P)$(C)EndRate.VAL CP NMS")
  field(CLCB, "NINT(A>360?360:A<1?1:A)")
  field(CLCC, "(B>>8)&255")
  field(CLCD, "B&255")
}

record(bo, "$(P)$(C)setTemp") {
}

record(longout, "$(P)$(C)Rate_Ramp") {
  field(DTYP, "Soft Channel")
  field(VAL, "360")
}

record(transform, "$(P)$(C)Rate") {
  field(INPA, "$(P)$(C)Rate_Ramp.VAL CP NMS")
  field(CLCB, "NINT(A>360?360:A<1?1:A)")
  field(CLCC, "(B>>8)&255")
  field(CLCD, "B&255")
}

record(transform, "$(P)$(C)Setpoint") {
  field(CLCA, "B+273.15")
  field(CLCB, "A-273.15")
  field(CLCC, "NINT((A>500?500:A<80?80:A)*100)")
  field(CLCD, "(C>>8)&255")
  field(CLCE, "C&255")
  field(CLCF, "1")
  field(OUTF, "$(P)$(C)setTemp.VAL PP NMS")
  field(CMTA, "in K")
  field(CMTB, "in C")
  field(CMTC, "in 100*K")
}


record(asyn, "$(P)$(C)Status") {
  field(SCAN, "2 second")
  field(PORT, "$(PORT)")
  field(TMOD, "Write/Read")
  field(NOWT, "0")
  field(OFMT, "Binary")
  field(IMAX, "32")
  field(NRRD, "32")
  field(IFMT, "Binary")
  field(TMOT, "15")
}

record(asyn, "$(P)$(C)Cmd3") {
  field(PORT, "$(PORT)")
  field(TMOD, "Write")
  field(OFMT, "Binary")
  field(OMAX, "6")
  field(IFMT, "Binary")
}

record(asyn, "$(P)$(C)Cmd2") {
  field(PORT, "$(PORT)")
  field(TMOD, "Write")
  field(OFMT, "Binary")
  field(OMAX, "4")
  field(IFMT, "Binary")
}

record(asyn, "$(P)$(C)Cmd1") {
  field(PORT, "$(PORT)")
  field(TMOD, "Write")
  field(OFMT, "Binary")
  field(OMAX, "2")
  field(IFMT, "Binary")
}

record(asyn, "$(P)$(C)Cmd4") {
  field(PORT, "$(PORT)")
  field(TMOD, "Write")
  field(OFMT, "Binary")
  field(OMAX, "3")
  field(IFMT, "Binary")
}

record(bo,"$(P)$(C)Turbo") {
  field(ZNAM,"Off")
  field(ONAM,"On")
}
record(bo,"$(P)$(C)Cool") {
}


record(ao, "$(P)$(C)Debug") {


}


#! Further lines contain data used by VisualDCT
#! View(0,45,1.0)
#! Record("$(P)$(C)GasSetPoint",20,20,0,0,"$(P)$(C)GasSetPoint")
#! Field("$(P)$(C)GasSetPoint.VAL",16777215,0,"$(P)$(C)GasSetPoint.VAL")
#! Record("$(P)$(C)GasSetPointC",260,20,0,0,"$(P)$(C)GasSetPointC")
#! Field("$(P)$(C)GasSetPointC.INPA",16777215,0,"$(P)$(C)GasSetPointC.INPA")
#! Link("$(P)$(C)GasSetPointC.INPA","$(P)$(C)GasSetPoint.VAL")
#! Record("$(P)$(C)GasTemp",500,20,0,0,"$(P)$(C)GasTemp")
#! Field("$(P)$(C)GasTemp.VAL",16777215,0,"$(P)$(C)GasTemp.VAL")
#! Record("$(P)$(C)GasTempC",740,20,0,0,"$(P)$(C)GasTempC")
#! Field("$(P)$(C)GasTempC.INPA",16777215,0,"$(P)$(C)GasTempC.INPA")
#! Link("$(P)$(C)GasTempC.INPA","$(P)$(C)GasTemp.VAL")
#! Record("$(P)$(C)GasError",980,20,0,0,"$(P)$(C)GasError")
#! Record("$(P)$(C)PhaseID",1220,20,0,0,"$(P)$(C)PhaseID")
#! Record("$(P)$(C)RunMode",1460,20,0,0,"$(P)$(C)RunMode")
#! Record("$(P)$(C)AlarmCode1",1700,20,0,0,"$(P)$(C)AlarmCode1")
#! Field("$(P)$(C)AlarmCode1.OUT",16777215,1,"$(P)$(C)AlarmCode1.OUT")
#! Link("$(P)$(C)AlarmCode1.OUT","$(P)$(C)AlarmCode.AA")
#! Field("$(P)$(C)AlarmCode1.A",16777215,0,"$(P)$(C)AlarmCode1.A")
#! Record("$(P)$(C)AlarmCode",1940,20,0,0,"$(P)$(C)AlarmCode")
#! Field("$(P)$(C)AlarmCode.AA",16777215,1,"$(P)$(C)AlarmCode.AA")
#! Field("$(P)$(C)AlarmCode.INPA",16777215,0,"$(P)$(C)AlarmCode.INPA")
#! Link("$(P)$(C)AlarmCode.INPA","$(P)$(C)AlarmCode1.A")
#! Record("$(P)$(C)RampRate",2180,20,0,0,"$(P)$(C)RampRate")
#! Record("$(P)$(C)TargetTemp",2420,20,0,0,"$(P)$(C)TargetTemp")
#! Record("$(P)$(C)EvapTemp",2660,20,0,0,"$(P)$(C)EvapTemp")
#! Field("$(P)$(C)EvapTemp.INPA",16777215,1,"$(P)$(C)EvapTemp.INPA")
#! Field("$(P)$(C)EvapTemp.VAL",16777215,0,"$(P)$(C)EvapTemp.VAL")
#! Record("$(P)$(C)EvapTempC",2900,20,0,0,"$(P)$(C)EvapTempC")
#! Field("$(P)$(C)EvapTempC.INPA",16777215,0,"$(P)$(C)EvapTempC.INPA")
#! Link("$(P)$(C)EvapTempC.INPA","$(P)$(C)EvapTemp.VAL")
#! Record("$(P)$(C)SuctTemp",3140,20,0,0,"$(P)$(C)SuctTemp")
#! Field("$(P)$(C)SuctTemp.VAL",16777215,0,"$(P)$(C)SuctTemp.VAL")
#! Record("$(P)$(C)SuctTempC",3380,20,0,0,"$(P)$(C)SuctTempC")
#! Field("$(P)$(C)SuctTempC.INPA",16777215,0,"$(P)$(C)SuctTempC.INPA")
#! Link("$(P)$(C)SuctTempC.INPA","$(P)$(C)SuctTemp.VAL")
#! Record("$(P)$(C)GasFlow",3620,20,0,0,"$(P)$(C)GasFlow")
#! Record("$(P)$(C)GasHeat",3860,20,0,0,"$(P)$(C)GasHeat")
#! Record("$(P)$(C)EvapHeat",4100,20,0,0,"$(P)$(C)EvapHeat")
#! Record("$(P)$(C)SuctHeat",4340,20,0,0,"$(P)$(C)SuctHeat")
#! Record("$(P)$(C)EvapAdj",4580,20,0,0,"$(P)$(C)EvapAdj")
#! Record("$(P)$(C)RunTime",20,380,0,0,"$(P)$(C)RunTime")
#! Record("$(P)$(C)LinePressure",260,380,0,0,"$(P)$(C)LinePressure")
#! Record("$(P)$(C)start",500,380,0,0,"$(P)$(C)start")
#! Record("$(P)$(C)End",740,380,0,0,"$(P)$(C)End")
#! Record("$(P)$(C)EndRate",980,380,0,0,"$(P)$(C)EndRate")
#! Field("$(P)$(C)EndRate.VAL",16777215,0,"$(P)$(C)EndRate.VAL")
#! Record("$(P)$(C)EndRateChar",1220,380,0,0,"$(P)$(C)EndRateChar")
#! Field("$(P)$(C)EndRateChar.INPA",16777215,0,"$(P)$(C)EndRateChar.INPA")
#! Link("$(P)$(C)EndRateChar.INPA","$(P)$(C)EndRate.VAL")
#! Record("$(P)$(C)setTemp",1460,380,0,0,"$(P)$(C)setTemp")
#! Field("$(P)$(C)setTemp.VAL",16777215,1,"$(P)$(C)setTemp.VAL")
#! Record("$(P)$(C)Rate_Ramp",1700,380,0,0,"$(P)$(C)Rate_Ramp")
#! Field("$(P)$(C)Rate_Ramp.VAL",16777215,0,"$(P)$(C)Rate_Ramp.VAL")
#! Record("$(P)$(C)Rate",1940,380,0,0,"$(P)$(C)Rate")
#! Field("$(P)$(C)Rate.INPA",16777215,0,"$(P)$(C)Rate.INPA")
#! Link("$(P)$(C)Rate.INPA","$(P)$(C)Rate_Ramp.VAL")
#! Record("$(P)$(C)Setpoint",2180,380,0,0,"$(P)$(C)Setpoint")
#! Field("$(P)$(C)Setpoint.OUTF",16777215,0,"$(P)$(C)Setpoint.OUTF")
#! Link("$(P)$(C)Setpoint.OUTF","$(P)$(C)setTemp.VAL")
#! Record("$(P)$(C)Status",162,481,0,1,"$(P)$(C)Status")
